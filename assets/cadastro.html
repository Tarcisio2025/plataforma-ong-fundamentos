<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="Formulário de cadastro para voluntários/doadores da ONG.">
  <title>ONG Exemplo — Cadastro</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Cadastro</h1>
    <nav aria-label="Navegação principal">
      <ul>
        <li><a href="index.html">Início</a></li>
        <li><a href="projetos.html">Projetos</a></li>
        <li><a href="cadastro.html" aria-current="page">Cadastro</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <form id="form-cadastro" aria-labelledby="titulo-form">
      <h2 id="titulo-form" class="sr-only" style="position:absolute;left:-9999px;">Formulário de Cadastro</h2>

      <!-- DADOS PESSOAIS -->
      <fieldset>
        <legend>Dados pessoais</legend>
        <div class="grid">
          <div class="col-12">
            <label for="nome" class="required">Nome completo</label>
            <input id="nome" name="nome" type="text" placeholder="Seu nome completo"
                   autocomplete="name" minlength="3" required>
            <p class="hint">Mínimo de 3 caracteres.</p>
          </div>

          <div class="col-6">
            <label for="email" class="required">E-mail</label>
            <input id="email" name="email" type="email" placeholder="voce@exemplo.com"
                   autocomplete="email" required>
          </div>

          <div class="col-6">
            <label for="telefone" class="required">Telefone</label>
            <input id="telefone" name="telefone" type="tel" inputmode="tel"
                   placeholder="(11) 90000-0000"
                   pattern="\(\d{2}\)\s?\d{4,5}-\d{4}"
                   autocomplete="tel-national" required>
            <p class="hint">Formato aceito: (DD) 90000-0000</p>
          </div>

          <div class="col-6">
            <label for="cpf" class="required">CPF</label>
            <input id="cpf" name="cpf" type="text" inputmode="numeric"
                   placeholder="000.000.000-00"
                   pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" required
                   aria-describedby="cpf-hint">
            <p id="cpf-hint" class="hint">Somente números com máscara: 000.000.000-00</p>
          </div>

          <div class="col-6">
            <label for="nascimento" class="required">Data de nascimento</label>
            <input id="nascimento" name="nascimento" type="date"
                   autocomplete="bday" required>
          </div>
        </div>
      </fieldset>

      <!-- ENDEREÇO -->
      <fieldset>
        <legend>Endereço</legend>
        <div class="grid">
          <div class="col-4">
            <label for="cep" class="required">CEP</label>
            <input id="cep" name="cep" type="text" inputmode="numeric"
                   placeholder="00000-000"
                   pattern="\d{5}-\d{3}"
                   autocomplete="postal-code" required>
          </div>

          <div class="col-8">
            <label for="endereco" class="required">Endereço</label>
            <input id="endereco" name="endereco" type="text"
                   placeholder="Rua, número, complemento"
                   autocomplete="street-address" required>
          </div>

          <div class="col-9">
            <label for="cidade" class="required">Cidade</label>
            <input id="cidade" name="cidade" type="text"
                   autocomplete="address-level2" required>
          </div>

          <div class="col-3">
            <label for="estado" class="required">Estado (UF)</label>
            <input id="estado" name="estado" type="text" maxlength="2"
                   placeholder="UF" pattern="[A-Z]{2}"
                   style="text-transform: uppercase"
                   autocomplete="address-level1" required>
            <p class="hint">Use a sigla do estado (ex.: SP, RJ, BA).</p>
          </div>
        </div>
      </fieldset>

      <button class="btn" type="submit">Enviar</button>
    </form>
  </main>

  <footer>
    <p>&copy; 2025 ONG Exemplo</p>
  </footer>
  
  <!-- Máscaras de entrada (CPF, Telefone, CEP) + ajuda de validação -->
  <script>
    (function () {
      const $ = (sel) => document.querySelector(sel);

      function maskCPF(v) {
        return v.replace(/\D/g, "")
                .replace(/(\d{3})(\d)/, "$1.$2")
                .replace(/(\d{3})(\d)/, "$1.$2")
                .replace(/(\d{3})(\d{1,2})$/, "$1-$2");
      }
      function maskTEL(v) {
        v = v.replace(/\D/g, "");
        if (v.length > 10) return v.replace(/(\d{2})(\d{5})(\d{4})/, "($1) $2-$3");
        return v.replace(/(\d{2})(\d{4})(\d{4})/, "($1) $2-$3");
      }
      function maskCEP(v) {
        return v.replace(/\D/g, "")
                .replace(/(\d{5})(\d{1,3}).*/, "$1-$2");
      }

      const cpf = $("#cpf");
      const tel = $("#telefone");
      const cep = $("#cep");
      const uf  = $("#estado");

      cpf && cpf.addEventListener("input", (e) => e.target.value = maskCPF(e.target.value));
      tel && tel.addEventListener("input", (e) => e.target.value = maskTEL(e.target.value));
      cep && cep.addEventListener("input", (e) => e.target.value = maskCEP(e.target.value));
      uf  && uf.addEventListener("input", (e) => e.target.value = e.target.value.toUpperCase());

      // Ajuda: evita envio se houver inválidos e foca no primeiro erro
      const form = document.getElementById("form-cadastro");
      form.addEventListener("submit", function (e) {
        if (!form.checkValidity()) {
          e.preventDefault();
          const firstInvalid = form.querySelector(":invalid");
          firstInvalid && firstInvalid.focus();
          alert("Há campos inválidos ou incompletos. Por favor, revise os destaques.");
        }
      }, false);
    })();
  </script>
</body>
</html>